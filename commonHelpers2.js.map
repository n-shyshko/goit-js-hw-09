{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = { \n    email: \"\", \n    message: \"\" }\n  \n  const ST_KEY = \"feedback-form-state\";\n  \n  const form = document.querySelector(\".feedback-form\");\n  \n  fillFormFromST();\n  \n  form.addEventListener(\"submit\", handleSubmit);\n  form.addEventListener(\"input\", handleInput);\n  \n  function handleSubmit(event) {\n    event.preventDefault();\n  \n    const usrEmail = event.currentTarget.elements.email.value.trim();\n    const usrMessage = event.currentTarget.elements.message.value.trim();\n  \n    if (!usrEmail || !usrMessage) {\n      return alert(\"Fill please all fields\");\n  }\n  localStorage.removeItem(ST_KEY);\n  event.currentTarget.reset();\n  }\n  \n  function handleInput(event) {\n    formData.email = event.currentTarget.elements.email.value.trim();\n    formData.message = event.currentTarget.elements.message.value.trim();\n  \n    // let savedFormData = {};\n  \n    try {\n      localStorage.setItem(ST_KEY, JSON.stringify(formData));\n  } catch (error) {\n      console.log(err);\n      return;\n  }\n  }\n  \n  function fillFormFromST() {\n    let savedData = {};\n  \n    try {\n      savedData = JSON.parse(localStorage.getItem(ST_KEY));\n    } catch (err) {\n      console.log(err);\n      return;\n    }\n  \n    if (!savedData) {\n      return;\n    }\n  \n    for (const key in savedData) {\n      form.elements[key].value = savedData[key];\n    }\n  }"],"names":["formData","ST_KEY","form","fillFormFromST","handleSubmit","handleInput","event","usrEmail","usrMessage","savedData","err","key"],"mappings":"wFAAA,MAAMA,EAAW,CACb,MAAO,GACP,QAAS,EAAI,EAETC,EAAS,sBAETC,EAAO,SAAS,cAAc,gBAAgB,EAEpDC,IAEAD,EAAK,iBAAiB,SAAUE,CAAY,EAC5CF,EAAK,iBAAiB,QAASG,CAAW,EAE1C,SAASD,EAAaE,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAWD,EAAM,cAAc,SAAS,MAAM,MAAM,OACpDE,EAAaF,EAAM,cAAc,SAAS,QAAQ,MAAM,OAE9D,GAAI,CAACC,GAAY,CAACC,EAChB,OAAO,MAAM,wBAAwB,EAEzC,aAAa,WAAWP,CAAM,EAC9BK,EAAM,cAAc,OACnB,CAED,SAASD,EAAYC,EAAO,CAC1BN,EAAS,MAAQM,EAAM,cAAc,SAAS,MAAM,MAAM,OAC1DN,EAAS,QAAUM,EAAM,cAAc,SAAS,QAAQ,MAAM,OAI9D,GAAI,CACF,aAAa,QAAQL,EAAQ,KAAK,UAAUD,CAAQ,CAAC,CACxD,MAAe,CACZ,QAAQ,IAAI,GAAG,EACf,MACH,CACA,CAED,SAASG,GAAiB,CACxB,IAAIM,EAAY,CAAA,EAEhB,GAAI,CACFA,EAAY,KAAK,MAAM,aAAa,QAAQR,CAAM,CAAC,CACpD,OAAQS,EAAK,CACZ,QAAQ,IAAIA,CAAG,EACf,MACD,CAED,GAAKD,EAIL,UAAWE,KAAOF,EAChBP,EAAK,SAASS,CAAG,EAAE,MAAQF,EAAUE,CAAG,CAE9C"}